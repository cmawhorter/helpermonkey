<?php

{{#autogenerated}}
// {{{.}}}
{{/autogenerated}}

abstract class {{{api_name}}}_BaseObject
{
	protected $data = array();
	protected $endpoint = null;

	public function __set ($name, $value)
	{
		$this->data[$name] = $value;
	}

	public function __get ($name)
	{
		if ( array_key_exists($name, $this->data) ) 
		{
			return $this->data[$name];
		}

		$trace = debug_backtrace();
		trigger_error('Undefined property via __get(): ' . $name .
				' in ' . $trace[0]['file'] .
				' on line ' . $trace[0]['line'],
			E_USER_NOTICE);
		
		return null;
	}

	public function endpoint ($url)
	{
		$this->endpoint = $url;
		return $this;
	}

	protected function invalid_rest_method (/* string */ $rest, /* string */ $method)
	{
		$message = printf('%s::%s does not contain %s', $this->object, $method, $rest);
		throw new Exception($message);
	}

	protected function rest_post (/* string */ $method, /* string */ $mask, /* array */ $data) { $this->invalid_rest_method('POST', $method); }
	protected function rest_get (/* string */ $method, /* string */ $mask, /* array */ $data) { $this->invalid_rest_method('GET', $method); }
	protected function rest_put (/* string */ $method, /* string */ $mask, /* array */ $data) { $this->invalid_rest_method('PUT', $method); }
	protected function rest_delete (/* string */ $method, /* string */ $mask, /* array */ $data) { $this->invalid_rest_method('DELETE', $method); }
}
